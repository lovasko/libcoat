cflags = -g -fPIC -Isrc -ansi -pedantic -Wall -Wextra
ldflags = 

rule compile
 command = clang $cflags -c $in -o $out

rule link
 command = clang -fPIC -o $out -shared $in $ldflags

build obj/coat.o: compile src/coat.c
build bin/libcoat.so: link obj/coat.o
